$(window).on("load",function(){require.config({paths:{echarts:'../../../app-assets/vendors/js/charts/echarts'}});require(['echarts','echarts/chart/bar','echarts/chart/line'],function(ec){var myChart=ec.init(document.getElementById('dynamic-data'));chartOptions={tooltip:{trigger:'axis'},legend:{data:['Latest price','Pre-order queue']},color:['#FF4558','#00A5A8'],toolbox:{show:true,feature:{mark:{show:true},dataView:{show:true,readOnly:false},magicType:{show:true,type:['line','bar']},restore:{show:true},saveAsImage:{show:true}}},dataZoom:{show:false,start:0,end:100},xAxis:[{type:'category',boundaryGap:true,data:(function(){var now=new Date();var res=[];var len=10;while(len--){res.unshift(now.toLocaleTimeString().replace(/^\D*/,''));now=new Date(now-2000);}
return res;})()},{type:'category',boundaryGap:true,data:(function(){var res=[];var len=10;while(len--){res.push(len+1);}
return res;})()}],yAxis:[{type:'value',scale:true,name:'Price',boundaryGap:[0.2,0.2]},{type:'value',scale:true,name:'Futures volume',boundaryGap:[0.2,0.2]}],series:[{name:'Pre-order queue',type:'bar',xAxisIndex:1,yAxisIndex:1,data:(function(){var res=[];var len=10;while(len--){res.push(Math.round(Math.random()*1000));}
return res;})()},{name:'Latest price',type:'line',data:(function(){var res=[];var len=10;while(len--){res.push((Math.random()*10+5).toFixed(1)-0);}
return res;})()}]};myChart.setOption(chartOptions);$(function(){$(window).on('resize',resize);$(".menu-toggle").on('click',resize);function resize(){setTimeout(function(){myChart.resize();},200);}
var lastData=11;var axisData;clearInterval(timeTicket);var timeTicket=setInterval(function(){lastData+=Math.random()*((Math.round(Math.random()*10)%2)==0?1:-1);lastData=lastData.toFixed(1)-0;axisData=(new Date()).toLocaleTimeString().replace(/^\D*/,'');myChart.addData([[0,Math.round(Math.random()*1000),true,false],[1,lastData,false,false,axisData]]);},2100);});});});